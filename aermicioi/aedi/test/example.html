<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Module aermicioi.aedi.test.example</title>
		<link rel="stylesheet" type="text/css" href="../../../styles/ddox.css"/>
		<link rel="stylesheet" href="../../../prettify/prettify.css" type="text/css"/>
		<script type="text/javascript" src="../../../scripts/jquery.js">/**/</script>
		<script type="text/javascript" src="../../../scripts/ddox.js">/**/</script>
	</head>
	<body onload="setupDdox();">
		<nav id="main-nav">
						<ul class="tree-view">
							<li class="tree-view">
								<a href="#" class="package">aermicioi</a>
						<ul class="tree-view">
							<li class="tree-view">
								<a href="#" class="package">aedi</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">configurer</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">annotation</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/configurer/annotation.html" class=" module">Package members</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer/annotation/annotation.html" class=" module">annotation</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer/annotation/component_scan.html" class=" module">component_scan</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">register</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/configurer/register.html" class=" module">Package members</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer/register/container.html" class=" module">container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer/register/contextual_register.html" class=" module">contextual_register</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer/register/environment.html" class=" module">environment</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer/register/factory_configurer.html" class=" module">factory_configurer</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer/register/generic_factory_metadata_decorator.html" class=" module">generic_factory_metadata_decorator</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer/register/register.html" class=" module">register</a>
							</li>
						</ul>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/configurer.html" class=" module">Package members</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">container</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/container.html" class=" module">Package members</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/application_container.html" class=" module">application_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/container.html" class=" module">container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/factory.html" class=" module">factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/interface_container.html" class=" module">interface_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/prototype_container.html" class=" module">prototype_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/proxy_container.html" class=" module">proxy_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/singleton_container.html" class=" module">singleton_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/subscribable_container.html" class=" module">subscribable_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/container/switchable_container.html" class=" module">switchable_container</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">exception</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/exception.html" class=" module">Package members</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/exception/circular_reference_exception.html" class=" module">circular_reference_exception</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/exception/di_exception.html" class=" module">di_exception</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/exception/instance_factory_exception.html" class=" module">instance_factory_exception</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/exception/invalid_cast_exception.html" class=" module">invalid_cast_exception</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/exception/in_progress_exception.html" class=" module">in_progress_exception</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/exception/not_found_exception.html" class=" module">not_found_exception</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/exception/property_configurer_exception.html" class=" module">property_configurer_exception</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">factory</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/factory.html" class=" module">Package members</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/factory/decorating_factory.html" class=" module">decorating_factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/factory/factory.html" class=" module">factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/factory/generic_factory.html" class=" module">generic_factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/factory/proxy_factory.html" class=" module">proxy_factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/factory/reference.html" class=" module">reference</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">storage</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/storage.html" class=" module">Package members</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/aggregate_locator.html" class=" module">aggregate_locator</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/alias_aware.html" class=" module">alias_aware</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/container.html" class=" module">container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/decorator.html" class=" module">decorator</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/locator.html" class=" module">locator</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/locator_aware.html" class=" module">locator_aware</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/object_storage.html" class=" module">object_storage</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/parent_aware.html" class=" module">parent_aware</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/storage.html" class=" module">storage</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/storage/wrapper.html" class=" module">wrapper</a>
							</li>
						</ul>
							</li>
							<li class="tree-view">
								<a href="#" class="package">test</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">configurer</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/test/configurer/annotation.html" class=" module">annotation</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/configurer/configurer.html" class=" module">configurer</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">container</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/test/container/application_container.html" class=" module">application_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/container/factory.html" class=" module">factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/container/inheritance_container.html" class=" module">inheritance_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/container/prototype_container.html" class=" module">prototype_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/container/singleton_container.html" class=" module">singleton_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/container/subscribable_container.html" class=" module">subscribable_container</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/container/switchable_container.html" class=" module">switchable_container</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">exception</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/test/exception/exception.html" class=" module">exception</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">factory</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/test/factory/decorating_factory.html" class=" module">decorating_factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/factory/factory.html" class=" module">factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/factory/generic_factory.html" class=" module">generic_factory</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/factory/reference.html" class=" module">reference</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">storage</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aedi/test/storage/aggregate_locator.html" class=" module">aggregate_locator</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/storage/locator.html" class=" module">locator</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/storage/object_storage.html" class=" module">object_storage</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/storage/storage.html" class=" module">storage</a>
							</li>
						</ul>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/example.html" class="selected module">example</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/fixture.html" class=" module">fixture</a>
							</li>
							<li>
								<a href="../../../aermicioi/aedi/test/fixture_second.html" class=" module">fixture_second</a>
							</li>
						</ul>
							</li>
							<li>
								<a href="../../../aermicioi/aedi.html" class=" module">Package members</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">aermicioi</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">aedi</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">test</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/aermicioi/aedi/test/environment.html" class=" module">environment</a>
							</li>
							<li>
								<a href="../../../aermicioi/aermicioi/aedi/test/factory_configurer.html" class=" module">factory_configurer</a>
							</li>
						</ul>
							</li>
						</ul>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">util</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">traits</a>
						<ul class="tree-view">
							<li>
								<a href="../../../aermicioi/util/traits.html" class=" module">Package members</a>
							</li>
							<li>
								<a href="../../../aermicioi/util/traits/enforce.html" class=" module">enforce</a>
							</li>
							<li>
								<a href="../../../aermicioi/util/traits/partial.html" class=" module">partial</a>
							</li>
							<li>
								<a href="../../../aermicioi/util/traits/traits.html" class=" module">traits</a>
							</li>
						</ul>
							</li>
						</ul>
							</li>
						</ul>
							</li>
						</ul>
				<noscript>
					<p style="color: red">The search functionality needs JavaScript enabled</p>
				</noscript>
				<div id="symbolSearchPane" style="display: none">
					<p>
						<input id="symbolSearch" type="text" placeholder="Search for symbols" onchange="performSymbolSearch(24);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"/>
					</p>
	<ul id="symbolSearchResults" style="display: none"></ul>
	<script type="application/javascript" src="../../../symbols.js"></script>
	<script type="application/javascript">
var symbolSearchRootDir = "../../../";
$('#symbolSearchPane').show();
	</script>
				</div>
		</nav>
		<div id="main-contents">
			<h1>Module aermicioi.aedi.test.example</h1>
			<p></p>

			<section><section><h2>Example</h2>
<p>Example using object storage to store different data, with reference behavior or value behavior.
</p>
<pre class="code"><code class="lang-d"><span class="typ">ObjectStorage</span><span class="pun">!() </span><span class="pln">storage </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">ObjectStorage</span><span class="pun">!();

</span><span class="pln">storage<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="typ">Color</span><span class="pun">(</span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">), </span><span class="str">"color.white"</span><span class="pun">); </span><span class="com">//Save a struct in storage of values, identified by color.white.
</span><span class="pln">storage<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="str">"Aedi tutorial."</span><span class="pun">, </span><span class="str">"book.title"</span><span class="pun">); </span><span class="com">//Same as with Color struct.
</span><span class="pln">storage<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="str">"A value saved by it's type FQN"</span><span class="pun">); </span><span class="com">//Save a value in storage, identified by it's type FQN.

</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">storage<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Color</span><span class="pun">(</span><span class="str">"color.white"</span><span class="pun">) == </span><span class="typ">Color</span><span class="pun">(</span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">));
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">storage<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">string</span><span class="pun">(</span><span class="str">"book.title"</span><span class="pun">) == </span><span class="str">"Aedi tutorial."</span><span class="pun">);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">storage<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">string </span><span class="pun">== </span><span class="str">"A value saved by it's type FQN"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>A small example on how is possible to use aedi.
</p>
<pre class="code"><code class="lang-d"><span class="typ">SingletonContainer </span><span class="pln">container </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">SingletonContainer</span><span class="pun">; </span><span class="com">// Container that will hold our objects.

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!</span><span class="typ">Bookshelf</span><span class="pun">; </span><span class="com">// Register Bookshelf as a component in container.

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!</span><span class="typ">Color </span><span class="com">// Register Color struct as a component in container.
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"r"</span><span class="pun">(</span><span class="kwd">cast</span><span class="pun">(</span><span class="typ">ubyte</span><span class="pun">) </span><span class="lit">200</span><span class="pun">)
    <wbr/>.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"g"</span><span class="pun">(</span><span class="kwd">cast</span><span class="pun">(</span><span class="typ">ubyte</span><span class="pun">) </span><span class="lit">201</span><span class="pun">)	</span><span class="com">// Set field g to ubyte 201.
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"b"</span><span class="pun">(</span><span class="kwd">cast</span><span class="pun">(</span><span class="typ">ubyte</span><span class="pun">) </span><span class="lit">202</span><span class="pun">);
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">link</span><span class="pun">(</span><span class="pln">name</span><span class="pun">!</span><span class="typ">Color</span><span class="pun">, </span><span class="str">"color.white"</span><span class="pun">);
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!</span><span class="typ">Size </span><span class="com">// Register Size struct as a component in container.
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"width"</span><span class="pun">(</span><span class="lit">295</span><span class="pun">)
    <wbr/>.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"height"</span><span class="pun">(</span><span class="lit">210</span><span class="pun">); </span><span class="com">// Set field height to ubyte 210.
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">(</span><span class="str">"page.paper"</span><span class="pun">) </span><span class="com">// Register paper by page.paper identity.
    <wbr/></span><span class="pun">.</span><span class="pln">construct</span><span class="pun">( </span><span class="com">// instantiate Paper using it's constructor.
        </span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality<wbr/></span><span class="pun">.</span><span class="pln">high</span><span class="pun">,
        </span><span class="str">"color.white"<wbr/></span><span class="pun">.</span><span class="pln">lref
    </span><span class="pun">);
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!</span><span class="typ">Page</span><span class="pun">() </span><span class="com">// store component in Prototype container
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"size"
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"paper"</span><span class="pun">(</span><span class="str">"page.paper"<wbr/></span><span class="pun">.</span><span class="pln">lref</span><span class="pun">) </span><span class="com">// set paper to an object located in container.
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"textColor"
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"foreground"</span><span class="pun">;
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">(); </span><span class="com">// prepare container for serving objects.

</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Bookshelf </span><span class="pun">!</span><span class="kwd">is null</span><span class="pun">); </span><span class="com">// Check if instantiated
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Color </span><span class="pun">== </span><span class="typ">Color</span><span class="pun">(</span><span class="lit">200</span><span class="pun">, </span><span class="lit">201</span><span class="pun">, </span><span class="lit">202</span><span class="pun">)); </span><span class="com">// Checking if Color was properly set.
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Size </span><span class="pun">== </span><span class="typ">Size</span><span class="pun">(</span><span class="lit">295</span><span class="pun">, </span><span class="lit">210</span><span class="pun">));
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">(</span><span class="str">"page.paper"</span><span class="pun">)<wbr/>.</span><span class="pln">quality </span><span class="pun">== </span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality<wbr/></span><span class="pun">.</span><span class="pln">high</span><span class="pun">); </span><span class="com">// Checking if quality of page.paper is same as for Paper.Quality in container 
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Page<wbr/></span><span class="pun">.</span><span class="pln">size </span><span class="pun">== </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Size</span><span class="pun">); </span><span class="com">// Check if page's size was set correctly.
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Full version of example.
</p>
</section>
<section><h2>Contains</h2>
<p><ul>        <li>Composite container</li>
        <li>Code api - register family of functions</li>
        <li>construct - construct using constructor</li>
        <li>set - set field/method</li>
        <li>autowire - autowire constructor/field/method</li>
        <li>fact - construct using a delegate/function</li>
        <li>callback - manipulate object using a delegate/function</li>
        <li>factoryMethod - construct using another object</li>
    </ul>
</p>
<pre class="code"><code class="lang-d"><span class="typ">ApplicationContainer </span><span class="pln">container </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">ApplicationContainer</span><span class="pun">; </span><span class="com">// A composite container that consists of Singleton, Prototype, containers and a value storage. 

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="typ">Color</span><span class="pun">(</span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">), </span><span class="str">"color.white"</span><span class="pun">); </span><span class="com">//Save a struct in storage of values, identified by color.white.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="str">"Aedi tutorial."</span><span class="pun">, </span><span class="str">"book.title"</span><span class="pun">); </span><span class="com">//Same as with Color struct.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">(</span><span class="str">"A value saved by it's type FQN"</span><span class="pun">); </span><span class="com">//Save a value in storage, identified by it's type FQN.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">(</span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality<wbr/></span><span class="pun">.</span><span class="pln">medium</span><span class="pun">);

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">!</span><span class="typ">Bookshelf</span><span class="pun">; </span><span class="com">// Register Bookshelf as a component in container.

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">!</span><span class="typ">Color </span><span class="com">// Register Color struct as a component in container.
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"r"</span><span class="pun">(</span><span class="kwd">cast</span><span class="pun">(</span><span class="typ">ubyte</span><span class="pun">) </span><span class="lit">200</span><span class="pun">)
    <wbr/>.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"g"</span><span class="pun">(</span><span class="kwd">cast</span><span class="pun">(</span><span class="typ">ubyte</span><span class="pun">) </span><span class="lit">201</span><span class="pun">)	</span><span class="com">// Set field g to ubyte 201.
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"b"</span><span class="pun">(</span><span class="kwd">cast</span><span class="pun">(</span><span class="typ">ubyte</span><span class="pun">) </span><span class="lit">202</span><span class="pun">);
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">!</span><span class="typ">Size </span><span class="com">// Register Size struct as a component in container.
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"width"</span><span class="pun">(</span><span class="lit">295</span><span class="pun">)
    <wbr/>.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"height"</span><span class="pun">(</span><span class="lit">210</span><span class="pun">); </span><span class="com">// Set field g to ubyte 210.
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">(</span><span class="str">"page.paper"</span><span class="pun">)
    <wbr/>.</span><span class="pln">construct</span><span class="pun">( </span><span class="com">// instantiate Paper using it's constructor.
        </span><span class="pln">lref</span><span class="pun">!(</span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality</span><span class="pun">), </span><span class="com">// lref is used to indicate that argument, is located in container. Check if it is of right type will be done at runtime.
        </span><span class="str">"color.white"<wbr/></span><span class="pun">.</span><span class="pln">lref
    </span><span class="pun">);
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!(</span><span class="typ">Paper</span><span class="pun">, </span><span class="typ">HardenedPaper</span><span class="pun">) </span><span class="com">// Register HardenedPaper in container with identity of Paper's FQN.
    <wbr/></span><span class="pun">.</span><span class="pln">callback</span><span class="pun">( </span><span class="com">// use the delegate to construct HardenedPaper. Useful to use when some special instantiation logic is required. 
        </span><span class="kwd">delegate</span><span class="pun">(</span><span class="typ">Locator</span><span class="pun">!() </span><span class="pln">loc</span><span class="pun">) {
            </span><span class="kwd">return new </span><span class="typ">HardenedPaper</span><span class="pun">(</span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality<wbr/></span><span class="pun">.</span><span class="pln">high</span><span class="pun">, </span><span class="pln">loc<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Color</span><span class="pun">);
        }
    );
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">!</span><span class="typ">Cover
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"material" </span><span class="com">// autowire material. Searches a value for material field in container by it's type FQN.
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"title"</span><span class="pun">(</span><span class="str">"Random title"</span><span class="pun">);

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">!</span><span class="typ">Page</span><span class="pun">(</span><span class="str">"prototype"</span><span class="pun">) </span><span class="com">// store component in Prototype container
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"size"
    <wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"paper"</span><span class="pun">(</span><span class="str">"page.paper"<wbr/></span><span class="pun">.</span><span class="pln">lref</span><span class="pun">) </span><span class="com">// set paper to an object located in container.
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"textColor"
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"foreground"
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"text"</span><span class="pun">;
    
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">!</span><span class="typ">Book
    <wbr/></span><span class="pun">.</span><span class="pln">factoryMethod</span><span class="pun">!(</span><span class="typ">Bookshelf</span><span class="pun">, </span><span class="str">"getABook"</span><span class="pun">)(</span><span class="pln">lref</span><span class="pun">!</span><span class="typ">Bookshelf</span><span class="pun">) </span><span class="com">// Use Bookshelf's method getABook to create the Book.
    <wbr/></span><span class="pun">.</span><span class="pln">callback</span><span class="pun">(
        (</span><span class="typ">Locator</span><span class="pun">!() </span><span class="pln">loc</span><span class="pun">, </span><span class="typ">Book </span><span class="pln">book</span><span class="pun">) { </span><span class="com">// Use it, when object is required to be configured in way that is not possible to do by means of library annotations.
            </span><span class="typ">Page</span><span class="pun">[] </span><span class="pln">pages</span><span class="pun">;
            </span><span class="kwd">foreach </span><span class="pun">(</span><span class="pln">i</span><span class="pun">; </span><span class="lit">0 </span><span class="pun">.. </span><span class="lit">99</span><span class="pun">) {
                </span><span class="kwd">import </span><span class="pln">std<wbr/></span><span class="pun">.</span><span class="pln">conv</span><span class="pun">;
                
                </span><span class="pln">pages </span><span class="pun">~= </span><span class="pln">loc<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Page</span><span class="pun">;
                </span><span class="pln">pages</span><span class="pun">[$ - </span><span class="lit">1</span><span class="pun">]<wbr/>.</span><span class="pln">text</span><span class="pun">(</span><span class="str">"Some text on page " </span><span class="pun">~ </span><span class="pln">i<wbr/></span><span class="pun">.</span><span class="pln">to</span><span class="pun">!</span><span class="typ">string</span><span class="pun">);
            }
            
            </span><span class="pln">book<wbr/></span><span class="pun">.</span><span class="pln">pages</span><span class="pun">(</span><span class="pln">pages</span><span class="pun">);
        }
    );

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">(); </span><span class="com">// prepare container to serve objects in it (instantiates them, and performs other things).

</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Bookshelf </span><span class="pun">!</span><span class="kwd">is null</span><span class="pun">); </span><span class="com">// Check if instantiated
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Color </span><span class="pun">== </span><span class="typ">Color</span><span class="pun">(</span><span class="lit">200</span><span class="pun">, </span><span class="lit">201</span><span class="pun">, </span><span class="lit">202</span><span class="pun">)); </span><span class="com">// Checking if Color was properly set.
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Size </span><span class="pun">== </span><span class="typ">Size</span><span class="pun">(</span><span class="lit">295</span><span class="pun">, </span><span class="lit">210</span><span class="pun">));
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">(</span><span class="str">"page.paper"</span><span class="pun">)<wbr/>.</span><span class="pln">quality </span><span class="pun">== </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!(</span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality</span><span class="pun">)); </span><span class="com">// Checking if quality of page.paper is same as for Paper.Quality in container 
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Cover<wbr/></span><span class="pun">.</span><span class="pln">material </span><span class="kwd">is </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">); </span><span class="com">// Checking if cover material is from a hardened paper.
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Example on annotation based api.
</p>
</section>
<section><h2>Contains</h2>
<p><ul>        <li>Scan of one component (struct/object).</li>
        <li>Scan of one component and registration by one of it's interface.</li>
        <li>Scan of multiple components in one sweep</li>
    </ul>
</p>
<pre class="code"><code class="lang-d"><span class="typ">ApplicationContainer </span><span class="pln">container </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">ApplicationContainer</span><span class="pun">;

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="typ">Color</span><span class="pun">(</span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">), </span><span class="str">"color.white"</span><span class="pun">); </span><span class="com">//Save a struct in storage of values, identified by color.white.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="str">"Aedi tutorial."</span><span class="pun">, </span><span class="str">"book.title"</span><span class="pun">); </span><span class="com">//Same as with Color struct.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">(</span><span class="str">"A value saved by it's type FQN"</span><span class="pun">); </span><span class="com">//Save a value in storage, identified by it's type FQN.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">(</span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality<wbr/></span><span class="pun">.</span><span class="pln">medium</span><span class="pun">);
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="str">"Book title"</span><span class="pun">, </span><span class="str">"book.title"</span><span class="pun">);

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">componentScan</span><span class="pun">!</span><span class="typ">Color</span><span class="pun">; </span><span class="com">// scan struct component and save it in container.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">componentScan</span><span class="pun">!</span><span class="typ">Size</span><span class="pun">;
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">componentScan</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">; </span><span class="com">// scan object component and save it in container. Use parameters container to fetch it's dependencies
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">componentScan</span><span class="pun">!(</span><span class="typ">Paper</span><span class="pun">, </span><span class="typ">HardenedPaper</span><span class="pun">); </span><span class="com">// scan object and save it by Paper's type FQN. Use parameters container to fetch it's dependencies
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">componentScan</span><span class="pun">!(</span><span class="typ">Page</span><span class="pun">, </span><span class="typ">Cover</span><span class="pun">, </span><span class="typ">Book</span><span class="pun">, </span><span class="typ">Bookshelf</span><span class="pun">); </span><span class="com">// scan several aggregates and save them in container. An object prefixed with one of it's interfaces will be registered by it in container.

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">;

</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Bookshelf </span><span class="pun">!</span><span class="kwd">is null</span><span class="pun">); </span><span class="com">// Check if instantiated
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Color </span><span class="pun">== </span><span class="typ">Color</span><span class="pun">(</span><span class="lit">200</span><span class="pun">, </span><span class="lit">200</span><span class="pun">, </span><span class="lit">200</span><span class="pun">)); </span><span class="com">// Checking if Color was properly set.
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Size </span><span class="pun">== </span><span class="typ">Size</span><span class="pun">(</span><span class="lit">295</span><span class="pun">, </span><span class="lit">210</span><span class="pun">));
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">(</span><span class="str">"page.paper"</span><span class="pun">)<wbr/>.</span><span class="pln">quality </span><span class="pun">== </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!(</span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality</span><span class="pun">)); </span><span class="com">// Checking if quality of page.paper is same as for Paper.Quality in container 
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Cover<wbr/></span><span class="pun">.</span><span class="pln">material </span><span class="kwd">is </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">); </span><span class="com">// Checking if cover material is from a hardened paper.
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Example on how to register entire module.
</p>
<pre class="code"><code class="lang-d"><span class="typ">ApplicationContainer </span><span class="pln">container </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">ApplicationContainer</span><span class="pun">;

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="typ">Color</span><span class="pun">(</span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">, </span><span class="lit">255</span><span class="pun">), </span><span class="str">"color.white"</span><span class="pun">); </span><span class="com">//Save a struct in storage of values, identified by color.white.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="str">"Aedi tutorial."</span><span class="pun">, </span><span class="str">"book.title"</span><span class="pun">); </span><span class="com">//Same as with Color struct.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">(</span><span class="str">"A value saved by it's type FQN"</span><span class="pun">); </span><span class="com">//Save a value in storage, identified by it's type FQN.
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">(</span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality<wbr/></span><span class="pun">.</span><span class="pln">medium</span><span class="pun">);
</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="str">"Book title"</span><span class="pun">, </span><span class="str">"book.title"</span><span class="pun">);

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">componentScan</span><span class="pun">!(</span><span class="pln">aermicioi<wbr/></span><span class="pun">.</span><span class="pln">aedi<wbr/></span><span class="pun">.</span><span class="pln">test<wbr/></span><span class="pun">.</span><span class="pln">example</span><span class="pun">); </span><span class="com">// Scan entire module for components.

</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">;

</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Bookshelf </span><span class="pun">!</span><span class="kwd">is null</span><span class="pun">); </span><span class="com">// Check if instantiated
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Color </span><span class="pun">== </span><span class="typ">Color</span><span class="pun">(</span><span class="lit">200</span><span class="pun">, </span><span class="lit">200</span><span class="pun">, </span><span class="lit">200</span><span class="pun">)); </span><span class="com">// Checking if Color was properly set.
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Size </span><span class="pun">== </span><span class="typ">Size</span><span class="pun">(</span><span class="lit">295</span><span class="pun">, </span><span class="lit">210</span><span class="pun">));
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">(</span><span class="str">"page.paper"</span><span class="pun">)<wbr/>.</span><span class="pln">quality </span><span class="pun">== </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!(</span><span class="typ">Paper<wbr/></span><span class="pun">.</span><span class="typ">Quality</span><span class="pun">)); </span><span class="com">// Checking if quality of page.paper is same as for Paper.Quality in container 
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Cover<wbr/></span><span class="pun">.</span><span class="pln">material </span><span class="kwd">is </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Paper</span><span class="pun">); </span><span class="com">// Checking if cover material is from a hardened paper.
</span></code></pre>
</section>
</section>
			<section>
				<h2>Authors</h2>
<p>aermicioi
</p>

			</section>
			<section>
				<h2>Copyright</h2>

			</section>
			<section>
				<h2>License</h2>
<p>Boost Software License - Version 1.0 - August 17th, 2003
</p>

<p>	Permission is hereby granted, free of charge, to any person or organization
	obtaining a copy of the software and accompanying documentation covered by
	this license (the "Software") to use, reproduce, display, distribute,
	execute, and transmit the Software, and to prepare derivative works of the
	Software, and to permit third-parties to whom the Software is furnished to
	do so, all subject to the following:
</p>

<p>	The copyright notices in the Software and this entire statement, including
	the above license grant, this restriction and the following disclaimer,
	must be included in all copies of the Software, in whole or in part, and
	all derivative works of the Software, unless such copies or derivative
	works are solely in the form of machine-executable object code generated by
	a source language processor.
</p>

<p>	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
	SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
	FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
	ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.
</p>

			</section>
		</div>
	</body>
</html>