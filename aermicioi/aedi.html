<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Module aermicioi.aedi</title>
		<link rel="stylesheet" type="text/css" href="../styles/ddox.css"/>
		<link rel="stylesheet" href="../prettify/prettify.css" type="text/css"/>
		<script type="text/javascript" src="../scripts/jquery.js">/**/</script>
		<script type="text/javascript" src="../scripts/ddox.js">/**/</script>
	</head>
	<body onload="setupDdox();">
		<nav id="main-nav">
						<ul class="tree-view">
							<li class=" tree-view">
								<a href="#" class="package">aermicioi</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">aedi</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">configurer</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/aedi/configurer/annotation.html" class="collapsed module">annotation</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/configurer/configurer.html" class="collapsed module">configurer</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">exception</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/aedi/exception/circular_reference_exception.html" class="collapsed module">circular_reference_exception</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/exception/di_exception.html" class="collapsed module">di_exception</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/exception/invalid_cast_exception.html" class="collapsed module">invalid_cast_exception</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/exception/in_progress_exception.html" class="collapsed module">in_progress_exception</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/exception/not_found_exception.html" class="collapsed module">not_found_exception</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">factory</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/aedi/factory/factory.html" class="collapsed module">factory</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/factory/genericfactory.html" class="collapsed module">genericfactory</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">instantiator</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/aedi/instantiator/application_instantiator.html" class="collapsed module">application_instantiator</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/instantiator/instantiator.html" class="collapsed module">instantiator</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/instantiator/prototype_instantiator.html" class="collapsed module">prototype_instantiator</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/instantiator/singleton_instantiator.html" class="collapsed module">singleton_instantiator</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">storage</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/aedi/storage/aggregate_locator.html" class="collapsed module">aggregate_locator</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage/alias_aware.html" class="collapsed module">alias_aware</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage/delegating_locator.html" class="collapsed module">delegating_locator</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage/locator.html" class="collapsed module">locator</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage/locator_aware.html" class="collapsed module">locator_aware</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage/object_storage.html" class="collapsed module">object_storage</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage/parent_aware.html" class="collapsed module">parent_aware</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage/storage.html" class="collapsed module">storage</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage/wrapper.html" class="collapsed module">wrapper</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">test</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">configurer</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/aedi/test/configurer/configurer.html" class="collapsed module">configurer</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">instantiator</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/aedi/test/instantiator/instantiator.html" class="collapsed module">instantiator</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">storage</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/aedi/test/storage/storage.html" class="collapsed module">storage</a>
							</li>
						</ul>
							</li>
							<li>
								<a href="../aermicioi/aedi/test/example.html" class="collapsed module">example</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/test/factory.html" class="collapsed module">factory</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/test/fixture.html" class="collapsed module">fixture</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/test/fixture_second.html" class="collapsed module">fixture_second</a>
							</li>
						</ul>
							</li>
							<li>
								<a href="../aermicioi/aedi/configurer.html" class="collapsed module">configurer</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/exception.html" class="collapsed module">exception</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/factory.html" class="collapsed module">factory</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/instantiator.html" class="collapsed module">instantiator</a>
							</li>
							<li>
								<a href="../aermicioi/aedi/storage.html" class="collapsed module">storage</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">util</a>
						<ul class="tree-view">
							<li>
								<a href="../aermicioi/util/traits.html" class="collapsed module">traits</a>
							</li>
						</ul>
							</li>
							<li>
								<a href="../aermicioi/aedi.html" class="selected module">aedi</a>
						<ul class="tree-view">
						</ul>
							</li>
						</ul>
							</li>
						</ul>
				<noscript>
					<p style="color: red">The search functionality needs JavaScript enabled</p>
				</noscript>
				<div id="symbolSearchPane" style="display: none">
					<p>
						<input id="symbolSearch" type="text" placeholder="Search for symbols" onchange="performSymbolSearch(24);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"/>
					</p>
	<ul id="symbolSearchResults" style="display: none"></ul>
	<script type="application/javascript" src="../symbols.js"></script>
	<script type="application/javascript">
var symbolSearchRootDir = "../";
$('#symbolSearchPane').show();
	</script>
				</div>
		</nav>
		<div id="main-contents">
			<h1>Module aermicioi.aedi</h1>
			<p>Aedi, a dependency injection library.
</p>
<section><p><b>Why should it be used: </b>
<ul>    <li>Eases the development of applications by taking the task of wiring the
    interdependent code (objects). </li>
    <li>Helps in decopling of different components of application. </li>
    <li>Eases the management of dependencies between application components. </li>
    </ul>
</p>

<p><b>When should it be used: </b>
<ul>    <li>When a project has a high number of interdependent components. </li>
    </ul>
</p>

<p><b>How should it be used: </b>
</p>

<p>It's simple:
</p>

<p><ol>    <li>Spawn a container. </li>
    <li>Register an object. </li>
    <li>Configure object. </li>
    <li>Repeat 2-3, if another object needs to be in container. </li>
    <li>Done </li>
    </ol>
</p>

<p>Here is an example:
</p>
<pre class="code"><code class="lang-d"><span class="kwd">class </span><span class="pln">D </span><span class="pun">{

	</span><span class="kwd">public </span><span class="pun">{
		</span><span class="typ">int </span><span class="pln">i_</span><span class="pun">;

		</span><span class="kwd">this</span><span class="pun">(</span><span class="typ">int </span><span class="pln">i</span><span class="pun">) {
			</span><span class="kwd">this<wbr/></span><span class="pun">.</span><span class="pln">i_ </span><span class="pun">= </span><span class="pln">i</span><span class="pun">;
		}
	}
}

</span><span class="kwd">class </span><span class="pln">O </span><span class="pun">{
	</span><span class="kwd">public </span><span class="pun">{
		</span><span class="pln">D dependency_</span><span class="pun">;

		</span><span class="typ">void </span><span class="pln">setDependency</span><span class="pun">(</span><span class="pln">D dep</span><span class="pun">) {
			</span><span class="kwd">this<wbr/></span><span class="pun">.</span><span class="pln">dependency_ </span><span class="pun">= </span><span class="pln">dep</span><span class="pun">;
		}

	}
}

</span><span class="kwd">auto </span><span class="pln">singleton </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">SingletonInstantiator</span><span class="pun">;

</span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!</span><span class="pln">O
	<wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"setDependency"</span><span class="pun">(
		</span><span class="pln">lref</span><span class="pun">!</span><span class="pln">D
	</span><span class="pun">);

</span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">!</span><span class="pln">D
	<wbr/></span><span class="pun">.</span><span class="pln">construct</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);

</span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">();

</span><span class="kwd">auto </span><span class="pln">o </span><span class="pun">= </span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="pln">O</span><span class="pun">;</span></code></pre>

<p>Instead of configuring by code, it is possible to configure by annotation.
</p>

<p>Here are basic annotations that can be used out of the box:
<ol>    <li>component -&gt; Denotes that class shoud be registered in container. </li>
    <li>constructor -&gt; Calls annotated constructor, with arguments passed in it. </li>
    <li>setter -&gt; Calls annotated method, with arguments passed in it. </li>
    <li>autowired -&gt; Calls annotated constructor or method, with arguments being references to arguments in annotated list. </li>
    </ol>
An example of annotation based configuration:
</p>
<pre class="code"><code class="lang-d"><span class="pun">@</span><span class="pln">component
</span><span class="kwd">class </span><span class="pln">D </span><span class="pun">{

	</span><span class="kwd">public </span><span class="pun">{
		</span><span class="typ">int </span><span class="pln">i_</span><span class="pun">;
</span><span class="com">//        Uncomment one of it to apply it
//        @constructor(20)
//        @autowire
		</span><span class="kwd">this</span><span class="pun">(</span><span class="typ">int </span><span class="pln">i</span><span class="pun">) {
			</span><span class="kwd">this<wbr/></span><span class="pun">.</span><span class="pln">i_ </span><span class="pun">= </span><span class="pln">i</span><span class="pun">;
		}
	}
}

@</span><span class="pln">component
</span><span class="kwd">class </span><span class="pln">O </span><span class="pun">{
	</span><span class="kwd">public </span><span class="pun">{
		</span><span class="pln">D dependency_</span><span class="pun">;
</span><span class="com">//        Uncomment one of it to apply it
//        @setter(lref!D)
//        @autowire
		</span><span class="typ">void </span><span class="pln">setDependency</span><span class="pun">(</span><span class="pln">D dep</span><span class="pun">) {
			</span><span class="kwd">this<wbr/></span><span class="pun">.</span><span class="pln">dependency_ </span><span class="pun">= </span><span class="pln">dep</span><span class="pun">;
		}

	}
}

</span><span class="kwd">auto </span><span class="pln">singleton </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">SingletonInstantiator</span><span class="pun">;

</span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">componentScan</span><span class="pun">!(</span><span class="pln">D</span><span class="pun">, </span><span class="pln">O</span><span class="pun">); </span><span class="com">// We can pass a list of classes that are annotated with @component
</span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">componentScan</span><span class="pun">!(</span><span class="pln">app</span><span class="pun">); </span><span class="com">// Or we just can pass, a module that contains @component annotated classes.

</span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">();

</span><span class="kwd">auto </span><span class="pln">o </span><span class="pun">= </span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="pln">O</span><span class="pun">;</span></code></pre>

<p>Currently the library provides 2 containers:
<ol>    <li>singleton -&gt; Serve same object, during it's lifetime. </li>
    <li>prototype -&gt; Serve new object, on each access. </li>
    </ol>
</p>

<p>We can use on both of them, annotation based, as well as code based configuration, just do not forget instantiating both of them.
</p>

<p><b>Container for parameters, or already instantiated data: </b>
</p>

<p>Aedi provides an implementation of a container that can store already instatiated data.
Be it, a string, object, int, double, or even function, the ObjectStorage!() and code api
is able to handle it nicely.
</p>

<p>Here is an example of how to fill in the container:
</p>
<pre class="code"><code class="lang-d"><span class="typ">ObjectStorage</span><span class="pun">!() </span><span class="pln">parameters </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">ObjectStorage</span><span class="pun">!();

</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="kwd">new </span><span class="pln">D</span><span class="pun">(</span><span class="lit">10</span><span class="pun">));
</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="kwd">new </span><span class="pln">D</span><span class="pun">(</span><span class="lit">10</span><span class="pun">), </span><span class="str">"custom identity"</span><span class="pun">);
</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);	</span><span class="com">// The container will store this int by its type, hence the id will be just "int"
</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="lit">10</span><span class="pun">, </span><span class="str">"custom int"</span><span class="pun">);
</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="kwd">delegate </span><span class="pun">() {
    </span><span class="kwd">import </span><span class="pln">std<wbr/></span><span class="pun">.</span><span class="pln">stdio</span><span class="pun">;
    </span><span class="pln">writeln</span><span class="pun">(</span><span class="str">"hello world"</span><span class="pun">);
});

</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="pln">D</span><span class="pun">; </span><span class="com">// Returns first object
</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="pln">D</span><span class="pun">(</span><span class="str">"custom identity"</span><span class="pun">); </span><span class="com">// Returns second object
</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">int</span><span class="pun">; </span><span class="com">// Returns the first int.
</span><span class="pln">parameters<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!(</span><span class="typ">void </span><span class="kwd">delegate </span><span class="pun">()); </span><span class="com">// When, locating a function, specify it's inferred atrributes as well. Failing to do so will generate an exception.</span></code></pre>

<p>Any instantiated data saved using register function, can be fetched only by it's type.
No implicit conversion from one type to another type is possible at the moment
</p>
<p>(ex: locating a int while casting it to long will raise an exception)
</p>

<p>For already instantiated data, no annotation based api is available at the moment.
</p>

<p><b>Composition of multiple containers: </b>
</p>

<p>Sometimes, it is required, to use objects that have, prototype scope, along with singleton scope, or a set of parameters.
Aedi, does allow to compose a set of containers into one.
</p>

<p>Here is an example:
</p>
<pre class="code"><code class="lang-d"><span class="typ">PrototypeInstantiator </span><span class="pln">prototype </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">PrototypeInstantiator</span><span class="pun">;
</span><span class="typ">SingletonInstantiator </span><span class="pln">singleton </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">SingletonInstantiator</span><span class="pun">;
</span><span class="typ">ObjectStorage</span><span class="pun">!() </span><span class="pln">parameters </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">ObjectStorage</span><span class="pun">!();
</span><span class="typ">AggregateLocator</span><span class="pun">!() </span><span class="pln">locator </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">AggregateLocatorImpl</span><span class="pun">!();

</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">(</span><span class="str">"prototype"</span><span class="pun">, </span><span class="pln">prototype</span><span class="pun">);
</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">(</span><span class="str">"singleton"</span><span class="pun">, </span><span class="pln">singleton</span><span class="pun">);
</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">(</span><span class="str">"parameters"</span><span class="pun">, </span><span class="pln">parameters</span><span class="pun">);

</span><span class="com">// Use registerInto to register object by it's type into a container, on composite container.
</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">!</span><span class="pln">O
	<wbr/></span><span class="pun">.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"setDependency"</span><span class="pun">(
		</span><span class="pln">lref</span><span class="pun">!</span><span class="pln">D
	</span><span class="pun">);

</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">registerInto</span><span class="pun">!</span><span class="pln">D</span><span class="pun">(</span><span class="str">"prototype"</span><span class="pun">)
	<wbr/>.</span><span class="pln">construct</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);

</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="str">"Some string"</span><span class="pun">, </span><span class="str">"id"</span><span class="pun">);
</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">register</span><span class="pun">(</span><span class="lit">10</span><span class="pun">, </span><span class="str">"an int by id"</span><span class="pun">);

</span><span class="pln">prototype<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">;
</span><span class="pln">singleton<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">;

</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="pln">D </span><span class="pun">!= </span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="pln">D</span><span class="pun">);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="pln">O </span><span class="pun">== </span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="pln">O</span><span class="pun">);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">string </span><span class="pun">== </span><span class="str">"Some string"</span><span class="pun">);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">locator<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">int</span><span class="pun">(</span><span class="str">"an int by id"</span><span class="pun">) == </span><span class="lit">10</span><span class="pun">);</span></code></pre>

<p>From example we can see that register api, works well with composited containers.
The difference between composited and single containers is, that when registering
an object, pass the name of underlying container (where to save the object).
By default on registering, it is assumed that a "singleton" container is available
in composite one. If there is no such container, an exception is raised, due to
inability to find underlying container.
When registering, already instantiated data (ints, strings, etc.), register api
assumes that a container named "parameters" is available in composite one.
If not an exception is raised.
</p>

<p>For annotation based registering in composite container, additional annotations are
available that control how, and where the components will be stored:
<ol>    <li>@qualifier -&gt; denotes how a component will be named in container </li>
    <li>@instantiator -&gt; specifies in which container should be component stored </li>
</ol>
Same convention, as with code api, is available in annotation api. By not
specifying @instantiator annotation, container by "singleton" id will be searched
in composite container, and the object will be registered in that container. Failing
to provide a "singleton" container in composite one, while a class (object), does not
have @instantiator annotation, an exception will be raised.
</p>

<p><b>Note:</b>
As a convenience, a composite container called ApplicationInstantiator is available,
containing singleton, prototype and parameters containers. It's usually enough for
basic usage.
</p>

<p><b>Extending: </b>
</p>

<p>Aedi does allow, two directions in where to extend the library:
<ol>    <li>Container extension. </li>
    <li>Factory extension. </li>
</ol>
</p>

<p><b>Container extending: </b>
</p>

<p>In aedi, a container serves not only as a holder of objects. It does manage
the lifetime of the objects contained in them. For a singleton container
this implies that it will store objects as long as it itself is alive,
while prototype container, will spawn as many objects as requested, and forget
them.
</p>

<p>Implement a new container, when more complex logic is required in handling
the lifetime of contained objects.
</p>

<p>To implement a new container, it has to implement Instantiator interface
(see aermicioi.aedi.instantiator.instantiator.d). Implementing this interface
allows your container to interact with rest of aedi library, except of configurer
package of aedi library. To allow a container to interact with configurer package
implement in your container ConfigurableInstantiator interface, or Storage!(Factory, string)
(ConfigurableInstantiator extends AliasAware interface to allow aliasing of contained objects).
</p>

<p><b>Factory extending: </b>
</p>

<p>While container, is used to manage and contain, objects, factories in aedi are used
to instantiate, and dispose (note: not at the moment, but in next release) objects.
Singleton, and prototype containers actually, accept factories, for registered objects,
and when they are instantiated, or objects are accessed, they use, factories, to actually
instantiate objects that are requested. Therefore, under the hood, the register api, as well
as annotation api, are actually spawning factories for each registered object in container,
and container uses them to create contained objects.
</p>

<p>Implement a new factory when, a different instantiation logic is required than the provided ones
in aedi (See: aermicioi.aedi.factory.factory.d for basic interface).
</p>

<p><b>Note: </b>
</p>

<p>implemented factories in aedi, use LocatorReference objects, to identify that, an argument is
actually a reference in container. Implement additional logic, for recognizing LocatorReferences, in case
when, factory may accept lref arguments (ex: lref!Object, "id".lref).
</p>

<p>Aedi does provide on top Factory interface (located in aermicioi.aedi.factory.factory.d), a GenericFactory
that splits up the instantiation process into two steps:
<ol>    <li>Object creation </li>
    <li>Object configuration </li>
</ol>
</p>

<p>Each building step is encapsulated in objects that extend InstanceFactory interface (1),
and PropertyConfigurer (2). InstanceFactories, are used to instantiate the object,
and constructor call, in examples above does actually create a InstanceFactory,
that calls objects constructor with arguments passed in. GenericFactory
should use InstanceFactory to instantiate the object, while PropertyConfigurers
should be used to configure further the spawned object.
PropertyConfigurer objects, are used by GenericFactory to configure spawned object.
The set call, or setter annotation, in examples above do create a PropertyConfigurer,
that calls the method, with passed arguments.
GenericFactory will call a InstanceFactory first, and then will invoke underlying
PropertyConfigurers to configure the object, and return it once it is finished.
</p>

<p>Implement a InstanceFactory, or PropertyConfigurer, when only a part of instantiation
process is required to change (ex: register a controller in URLRouter of vibe.d library,
or deserialize an object from some source).
</p>

<p><b>Extending configurer package: </b>
</p>

<p>Both, code api, and annotation api are based, on GenericFactory factories. Therefore
register, or @component actually spawns a GenericFactory implementation, that is
configured further with custom InstanceFactory and PropertyConfigurers.
</p>

<p>Once a new factory is implemented, it's recommended to wrap creation of such factory
into a function of such form:
</p>
<pre class="code"><code class="lang-d"><span class="typ">GenericFactory</span><span class="pun">!</span><span class="pln">T factoryName</span><span class="pun">(</span><span class="pln">T</span><span class="pun">)(</span><span class="typ">GenericFactory</span><span class="pun">!</span><span class="pln">T factory</span><span class="pun">, </span><span class="typ">Args</span><span class="pun">...<wbr/>.)</span></code></pre>

<p>Such format will allow seamless integration with code api, and will allow
function chaining (as in examples above).
</p>

<p>It is possible to extend annotation api as well. To do so, create an annotation
that implements one of the following static interfaces:
<ul>    <li>canFactoryGenericFactory -&gt; Struct, will be treated as a source of GenericFactory </li>
    <li>canFactoryInstanceFactory -&gt; Struct, will be treated as a source of InstanceFactory </li>
    <li>canFactoryPropertyConfigurer -&gt; Struct, will be treated as a source of PropertyConfigurer </li>
</ul>
</p>

<p>Any of interfaces from the list, have a method that returns one type of factory, a GenericFactory,
a InstanceFactory, or a PropertyConfigurer. Returned factories, are used to spawn the object.
Once annotation implements one of following interfaces, annotation system, will use it to spawn
the object. @component implements canFactoryGenericFactory interface while @constructor and @setter
annotation implement canFactoryInstanceFactory and canFactoryPropertyConfigurer respectively.
</p>
<p><b>See: </b> aermicioi.aedi.configurer.annotation.d for provided interfaces.
</p>

<p><b>Features to be implemented: </b>
<ol>    <li>A way to allow, singleton objects to access objects that are in instantiators with a narrower scope. </li>
    <li>More unit tests. </li>
    <li>More thorough type check of passed arguments to constructors and methods. </li>
    <li>Support for yaml based configuration. </li>
    <li>Better Extensibility. </li>
    <li>Stable api. </li>
    <li>Usage of allocators. </li>
</ol>
</p>
</section>

			<section></section>
			<section>
				<h2>Authors</h2>
<p>Alexandru Ermicioi
</p>

			</section>
			<section>
				<h2>Copyright</h2>

			</section>
			<section>
				<h2>License</h2>
<p>Boost Software License - Version 1.0 - August 17th, 2003
</p>

<p>    Permission is hereby granted, free of charge, to any person or organization
    obtaining a copy of the software and accompanying documentation covered by
    this license (the "Software") to use, reproduce, display, distribute,
    execute, and transmit the Software, and to prepare derivative works of the
    Software, and to permit third-parties to whom the Software is furnished to
    do so, all subject to the following:
</p>

<p>    The copyright notices in the Software and this entire statement, including
    the above license grant, this restriction and the following disclaimer,
    must be included in all copies of the Software, in whole or in part, and
    all derivative works of the Software, unless such copies or derivative
    works are solely in the form of machine-executable object code generated by
    a source language processor.
</p>

<p>    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
    SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
    FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
    ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
    DEALINGS IN THE SOFTWARE.
</p>

			</section>
		</div>
	</body>
</html>