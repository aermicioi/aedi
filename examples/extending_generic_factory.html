<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Module extending_generic_factory</title>
		<link rel="stylesheet" href="./css/style.min.css"/>
		<script type="text/javascript" src="./js/script.min.js"></script>
	</head>
	<body onload="setupDdox();">
		<header></header>
		<nav id="main-nav">
			<div>
				<noscript>
					<p style="color: red">The search functionality needs JavaScript enabled</p>
				</noscript>
				<div id="symbolSearchPane" style="display: none">
					<form action="#" method="GET">
						<input id="symbolSearch" type="text" name="q" placeholder="Search for symbols" autocomplete="off" onchange="performSymbolSearch(24);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" autofocus/>
					</form>
					<ul id="symbolSearchResults" class="symbolList" style="display: none"></ul><script type="application/javascript" src="./symbols.js"></script><script type="application/javascript">var symbolSearchRootDir = "./";
document.getElementById('symbolSearchPane').style.display = 'block';</script>
				</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">aermicioi
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi.html">aedi</a>
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/configurer.html">configurer</a>
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/configurer/annotation.html">annotation</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/annotation/annotation.html">annotation</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/annotation/component_scan.html">component_scan</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/configurer/register.html">register</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/configuration_context_factory.html">configuration_context_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/container.html">container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/context.html">context</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/factory_configurer.html">factory_configurer</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/register.html">register</a>
						</div>
					</li>
				</ul>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/container.html">container</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/aggregate_container.html">aggregate_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/aliasing_container.html">aliasing_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/application_container.html">application_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/container.html">container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/decorating_mixin.html">decorating_mixin</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/factory.html">factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/gc_registering_container.html">gc_registering_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/prototype_container.html">prototype_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/proxy_container.html">proxy_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/singleton_container.html">singleton_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/subscribable_container.html">subscribable_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/switchable_container.html">switchable_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/tuple_container.html">tuple_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/type_based_container.html">type_based_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/value_container.html">value_container</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/exception.html">exception</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/circular_reference_exception.html">circular_reference_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/di_exception.html">di_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/instance_factory_exception.html">instance_factory_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/invalid_cast_exception.html">invalid_cast_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/in_progress_exception.html">in_progress_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/in_use_exception.html">in_use_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/not_found_exception.html">not_found_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/property_configurer_exception.html">property_configurer_exception</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/factory.html">factory</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/decorating_factory.html">decorating_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/factory.html">factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/generic_factory.html">generic_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/proxy_factory.html">proxy_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/reference.html">reference</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/wrapping_factory.html">wrapping_factory</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/storage.html">storage</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/aggregate_locator.html">aggregate_locator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/alias_aware.html">alias_aware</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/allocator_aware.html">allocator_aware</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/container.html">container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/decorator.html">decorator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/locator.html">locator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/locator_aware.html">locator_aware</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/object_storage.html">object_storage</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/storage.html">storage</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/wrapper.html">wrapper</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">test
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">configurer
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">register
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/configurer/register/container.html">container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/configurer/register/context.html">context</a>
						</div>
					</li>
				</ul>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">container
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/aggregate_container.html">aggregate_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/application_container.html">application_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/deffered_container.html">deffered_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/factory.html">factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/prototype_container.html">prototype_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/proxy_container.html">proxy_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/singleton_container.html">singleton_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/subscribable_container.html">subscribable_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/switchable_container.html">switchable_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/tuple_container.html">tuple_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/type_based_container.html">type_based_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/value_container.html">value_container</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">exception
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/exception/exception.html">exception</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">factory
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/decorating_factory.html">decorating_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/factory.html">factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/generic_factory.html">generic_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/proxy_factory.html">proxy_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/reference.html">reference</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/wrapping_factory.html">wrapping_factory</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">storage
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/storage/aggregate_locator.html">aggregate_locator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/storage/locator.html">locator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/storage/object_storage.html">object_storage</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/storage/storage.html">storage</a>
						</div>
					</li>
				</ul>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory_configurer.html">factory_configurer</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/fixture.html">fixture</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/fixture_second.html">fixture_second</a>
						</div>
					</li>
				</ul>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">util
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/util/traits.html">traits</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/util/traits/enforce.html">enforce</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/util/traits/partial.html">partial</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/util/traits/traits.html">traits</a>
						</div>
					</li>
				</ul>
					</li>
				</ul>
					</li>
				</ul>
					</li>
					<li>
						<div class="module ">
							<a href="./annotation_configuration.html">annotation_configuration</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./configuration_primitives.html">configuration_primitives</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./decorating_containers.html">decorating_containers</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./dependencies.html">dependencies</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./examples.html">examples</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./extending_containers.html">extending_containers</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./extending_factory.html">extending_factory</a>
						</div>
					</li>
					<li>
						<div class="module selected">
							<a href="./extending_generic_factory.html">extending_generic_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./memory_management.html">memory_management</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./minimal.html">minimal</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./multiple_containers.html">multiple_containers</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./named_dependencies.html">named_dependencies</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./value_container.html">value_container</a>
						</div>
					</li>
				</ul>
			</div>
			<p id="main-nav-footer">
				Built with
				<a href="https://github.com/MartinNowak/scod">scod</a>
			</p>
		</nav>
		<div id="main-contents">
			<div>
				<h1>Module extending_generic_factory</h1><p>Aedi, a dependency injection library.
</p><section><p>Aedi is a dependency injection library. It does provide a set of containers that do
IoC, and an interface to configure application components (structs, objects, etc.)
</p>
</section>

				<section><section><h2>Aim</h2>
<p>The aim of library is to provide a dependency injection solution that is
feature rich, easy to use, easy to learn, and easy to extend up to your needs.
</p>

<p>The interface presented in previous tutorial is a minimalistic interface, and does not provide any ability to
customize the component that is created. It is practically a black box, that is convenient to use by
containers, and not by client code that needs to configure components registered in container.
</p>

<p>To support better configuration, without loosing black boxiness of presented <code class="lang-d">Factory</code> interface,
the process of creating and configuring a component was split into three distinct steps below:
<ol>    <li>Allocation and construction of component </li>
    <li>Configuration of component </li>
    <li>Destruct and deallocation of component</li>
    </ol>
</p>

<p>The following steps are formalized into a set of interfaces shown below, where each step
itself is encapsulated into objects implementing presented interfaces.
</p>

<pre class="code"><code class="lang-d"><span class="kwd">interface </span><span class="typ">PropertyConfigurer</span><span class="pun">(</span><span class="pln">T</span><span class="pun">) : </span><span class="typ">LocatorAware</span><span class="pun">!() {

    </span><span class="kwd">public </span><span class="pun">{

        </span><span class="typ">void </span><span class="pln">configure</span><span class="pun">(</span><span class="kwd">ref </span><span class="pln">T object</span><span class="pun">);
    }
}

</span><span class="kwd">interface </span><span class="typ">InstanceFactory</span><span class="pun">(</span><span class="pln">T</span><span class="pun">) : </span><span class="typ">LocatorAware</span><span class="pun">!(), </span><span class="typ">AllocatorAware</span><span class="pun">!() {

    </span><span class="kwd">public </span><span class="pun">{

        </span><span class="pln">T factory</span><span class="pun">();
    }
}

</span><span class="kwd">interface </span><span class="typ">InstanceDestructor</span><span class="pun">(</span><span class="pln">T</span><span class="pun">) : </span><span class="typ">LocatorAware</span><span class="pun">!(), </span><span class="typ">AllocatorAware</span><span class="pun">!() {

    </span><span class="kwd">public </span><span class="pun">{

        </span><span class="typ">void </span><span class="pln">destruct</span><span class="pun">(</span><span class="kwd">ref </span><span class="pln">T destructable</span><span class="pun">);
    }
}

</span><span class="kwd">interface </span><span class="typ">GenericFactory</span><span class="pun">(</span><span class="pln">T</span><span class="pun">) : </span><span class="typ">Factory</span><span class="pun">!</span><span class="pln">T</span><span class="pun">, </span><span class="typ">InstanceFactoryAware</span><span class="pun">!</span><span class="pln">T</span><span class="pun">, </span><span class="typ">PropertyConfigurersAware</span><span class="pun">!</span><span class="pln">T </span><span class="pun">{

    </span><span class="kwd">public </span><span class="pun">{

        </span><span class="kwd">@property </span><span class="pun">{

            </span><span class="kwd">alias </span><span class="pln">locator </span><span class="pun">= </span><span class="typ">Factory</span><span class="pun">!</span><span class="pln">T<wbr/></span><span class="pun">.</span><span class="pln">locator</span><span class="pun">;

            </span><span class="typ">Locator</span><span class="pun">!() </span><span class="pln">locator</span><span class="pun">();
        }
    }
}

</span><span class="kwd">interface </span><span class="typ">InstanceFactoryAware</span><span class="pun">(</span><span class="pln">T</span><span class="pun">) {
    </span><span class="kwd">public </span><span class="pun">{

        </span><span class="kwd">@property </span><span class="pun">{
            </span><span class="typ">InstanceFactoryAware</span><span class="pun">!</span><span class="pln">T setInstanceFactory</span><span class="pun">(</span><span class="typ">InstanceFactory</span><span class="pun">!</span><span class="pln">T factory</span><span class="pun">);
        }
    }
}

</span><span class="kwd">interface </span><span class="typ">InstanceDestructorAware</span><span class="pun">(</span><span class="pln">T</span><span class="pun">) {
    </span><span class="kwd">public </span><span class="pun">{

        </span><span class="kwd">@property </span><span class="pun">{
            </span><span class="typ">InstanceDestructorAware</span><span class="pun">!</span><span class="pln">T setInstanceDestructor</span><span class="pun">(</span><span class="typ">InstanceDestructor</span><span class="pun">!</span><span class="pln">T destructor</span><span class="pun">);
        }
    }
}

</span><span class="kwd">interface </span><span class="typ">PropertyConfigurersAware</span><span class="pun">(</span><span class="pln">T</span><span class="pun">) {
    </span><span class="kwd">public </span><span class="pun">{
        </span><span class="typ">PropertyConfigurersAware</span><span class="pun">!</span><span class="pln">T addPropertyConfigurer</span><span class="pun">(</span><span class="typ">PropertyConfigurer</span><span class="pun">!</span><span class="pln">T configurer</span><span class="pun">);
    }
}</span></code></pre>

<p>The methods used to configure components in examples up to this point are actually wrappers
over building blocks that implement interfaces presented above. <code class="lang-d">register</code> method is a
wrapper over an implementation of <code class="lang-d">GenericFactory</code> interface.
</p>

<p>When instantiation or configuration of a component is not possible to implement in terms of
existing tools and interfaces provided by the framework, it is recommended to implement one of
building block interface, depending on what stage the problem resides. For car simulation app, with-
out reason the company decided that tires, should be instantiated using their own implementation of
instance building block. Same with inflating a tire they've decided to use their own implementation,
along with tire recycling, making a closed production cycle.
</p>

<p>Next example shows a custom implementation of tire manufacturing process. By implementing
<code class="lang-d">InstanceFactory</code> interface, the building block can be used along the rest of components already
present in framework, such as <code class="lang-d">GenericFactory</code>. The only hinder is that what remains is the ugliness, and
verbosity, due to need to manually instantiate the building block, and pass to generic factory. Instead
of manually doing it, wrapping instantiator into a function will lessen the verbosity (check <code class="lang-d">makeTire</code>
definition and usage), and increase the readability of configuration code, thanks to UFCS feature of
D programming language.
</p>

<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">makeTire</span><span class="pun">(</span><span class="pln">T </span><span class="pun">: </span><span class="typ">GenericFactory</span><span class="pun">!</span><span class="pln">Z</span><span class="pun">, </span><span class="pln">Z </span><span class="pun">: </span><span class="typ">Tire</span><span class="pun">)(</span><span class="kwd">auto ref </span><span class="pln">T factory</span><span class="pun">, </span><span class="typ">int </span><span class="pln">size</span><span class="pun">) {
    </span><span class="pln">factory<wbr/></span><span class="pun">.</span><span class="pln">setInstanceFactory</span><span class="pun">(</span><span class="kwd">new </span><span class="typ">TireConstructorInstanceFactory</span><span class="pun">(</span><span class="pln">size</span><span class="pun">));

    </span><span class="kwd">return </span><span class="pln">factory</span><span class="pun">;
}

</span><span class="kwd">class </span><span class="typ">TireConstructorInstanceFactory </span><span class="pun">: </span><span class="typ">InstanceFactory</span><span class="pun">!</span><span class="typ">Tire </span><span class="pun">{

    </span><span class="kwd">private </span><span class="pun">{
        </span><span class="typ">int </span><span class="pln">size</span><span class="pun">;

        </span><span class="typ">Locator</span><span class="pun">!(</span><span class="typ">Object</span><span class="pun">, </span><span class="typ">string</span><span class="pun">) </span><span class="pln">locator_</span><span class="pun">;
        </span><span class="typ">IAllocator </span><span class="pln">allocator_</span><span class="pun">;
    }

    </span><span class="kwd">public </span><span class="pun">{
        </span><span class="kwd">this</span><span class="pun">(</span><span class="typ">int </span><span class="pln">size</span><span class="pun">) {
            </span><span class="kwd">this<wbr/></span><span class="pun">.</span><span class="pln">size </span><span class="pun">= </span><span class="pln">size</span><span class="pun">;
        }

        </span><span class="kwd">@property </span><span class="pun">{
            </span><span class="typ">TireConstructorInstanceFactory </span><span class="pln">locator</span><span class="pun">(</span><span class="typ">Locator</span><span class="pun">!(</span><span class="typ">Object</span><span class="pun">, </span><span class="typ">string</span><span class="pun">) </span><span class="pln">locator</span><span class="pun">) {
                </span><span class="kwd">this<wbr/></span><span class="pun">.</span><span class="pln">locator_ </span><span class="pun">= </span><span class="pln">locator</span><span class="pun">;

                </span><span class="kwd">return this</span><span class="pun">;
            }

            </span><span class="typ">TireConstructorInstanceFactory </span><span class="pln">allocator</span><span class="pun">(</span><span class="typ">IAllocator </span><span class="pln">allocator</span><span class="pun">) </span><span class="kwd">pure nothrow @safe </span><span class="pun">{
                </span><span class="kwd">this<wbr/></span><span class="pun">.</span><span class="pln">allocator_ </span><span class="pun">= </span><span class="pln">allocator</span><span class="pun">;

                </span><span class="kwd">return this</span><span class="pun">;
            }
        }

        </span><span class="typ">Tire </span><span class="pln">factory</span><span class="pun">() {
            </span><span class="typ">Tire </span><span class="pln">tire</span><span class="pun">;

            </span><span class="kwd">import </span><span class="pln">std<wbr/></span><span class="pun">.</span><span class="pln">stdio</span><span class="pun">;

            </span><span class="pln">write</span><span class="pun">(</span><span class="str">"Creating a tire of "</span><span class="pun">, </span><span class="pln">size</span><span class="pun">, </span><span class="str">" inches: "</span><span class="pun">);
            </span><span class="pln">tire </span><span class="pun">= </span><span class="kwd">this<wbr/></span><span class="pun">.</span><span class="pln">allocator_<wbr/></span><span class="pun">.</span><span class="pln">make</span><span class="pun">!</span><span class="typ">Tire</span><span class="pun">;
            </span><span class="pln">tire<wbr/></span><span class="pun">.</span><span class="pln">size </span><span class="pun">= </span><span class="pln">size</span><span class="pun">;
            </span><span class="pln">writeln</span><span class="pun">(</span><span class="str">"\t[..OK..]"</span><span class="pun">);

            </span><span class="kwd">return </span><span class="pln">tire</span><span class="pun">;
        }
    }
}</span></code></pre>

<p>The code for tire inflator configurer can be seen in examples from source code. The difference
from <code class="lang-d">TireConstructorInstanceFactory</code> is that implementation should extend <code class="lang-d">PropertyConfigurer</code>.
Same can be said about tire destructor, it implements <code class="lang-d">InstanceDestructor</code> to provide
destruction mechanisms for generic factory.
</p>

<p>Once the custom implementation and their wrapper are implemented, it is possible to use them
as any other built-in building blocks from framework. Next example shows how implemented building
blocks can be used along with other configuration primitives.
</p>
<pre class="code"><code class="lang-d"><span class="typ">void </span><span class="pln">main</span><span class="pun">() {

    </span><span class="typ">SingletonContainer </span><span class="pln">container </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">SingletonContainer</span><span class="pun">;
    </span><span class="kwd">scope </span><span class="pun">(</span><span class="pln">exit</span><span class="pun">) </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">terminate</span><span class="pun">();

    </span><span class="kwd">with </span><span class="pun">(</span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">configure</span><span class="pun">) {

        </span><span class="pln">register</span><span class="pun">!</span><span class="typ">Tire</span><span class="pun">(</span><span class="str">"logging.tire"</span><span class="pun">)
            <wbr/>.</span><span class="pln">makeTire</span><span class="pun">(</span><span class="lit">17</span><span class="pun">)
            <wbr/>.</span><span class="pln">inflateTire</span><span class="pun">(</span><span class="lit">3.0</span><span class="pun">)
            <wbr/>.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"vendor"</span><span class="pun">(</span><span class="str">"hell tire"</span><span class="pun">)
            <wbr/>.</span><span class="pln">destroyTire</span><span class="pun">;
    }

    </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">();

    </span><span class="pln">container<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!</span><span class="typ">Tire</span><span class="pun">(</span><span class="str">"logging.tire"</span><span class="pun">)<wbr/>.</span><span class="pln">writeln</span><span class="pun">;
}</span></code></pre>

<p>Running it, produces following result:
</p>
<pre class="code"><code class="lang-d"><span class="typ">Creating </span><span class="pln">a tire of </span><span class="lit">17 </span><span class="pln">inches</span><span class="pun">: 	[..</span><span class="pln">OK</span><span class="pun">..]
</span><span class="typ">Inflating </span><span class="pln">tire to </span><span class="lit">3 </span><span class="pln">atm</span><span class="pun">: 	[..</span><span class="pln">OK</span><span class="pun">..]
</span><span class="typ">Tire</span><span class="pun">(</span><span class="lit">17 </span><span class="pln">inch</span><span class="pun">, </span><span class="lit">3 </span><span class="pln">atm</span><span class="pun">, </span><span class="pln">hell tire</span><span class="pun">)
</span><span class="typ">Destroying </span><span class="pln">tire</span><span class="pun">:        [..</span><span class="pln">OK</span><span class="pun">..]</span></code></pre>

<p>Try to implement your own instance factory or property configurer, wrap them
in a function, and use in component configuration. Try to do this for <code class="lang-d">Car</code>
component from previous examples.
</p>
</section>
</section>
			</div>
			<footer>
				<div id="license-info">
					<p>aermicioi
</p>

					
					<p>Boost Software License - Version 1.0 - August 17th, 2003
</p>

<p>	Permission is hereby granted, free of charge, to any person or organization
	obtaining a copy of the software and accompanying documentation covered by
	this license (the "Software") to use, reproduce, display, distribute,
	execute, and transmit the Software, and to prepare derivative works of the
	Software, and to permit third-parties to whom the Software is furnished to
	do so, all subject to the following:
</p>

<p>	The copyright notices in the Software and this entire statement, including
	the above license grant, this restriction and the following disclaimer,
	must be included in all copies of the Software, in whole or in part, and
	all derivative works of the Software, unless such copies or derivative
	works are solely in the form of machine-executable object code generated by
	a source language processor.
</p>

<p>	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
	SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
	FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
	ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.
</p>

				</div>
			</footer>
		</div>
	</body>
</html>