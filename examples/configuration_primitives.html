<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Module configuration_primitives</title>
		<link rel="stylesheet" href="./css/style.min.css"/>
		<script type="text/javascript" src="./js/script.min.js"></script>
	</head>
	<body onload="setupDdox();">
		<header></header>
		<nav id="main-nav">
			<div>
				<noscript>
					<p style="color: red">The search functionality needs JavaScript enabled</p>
				</noscript>
				<div id="symbolSearchPane" style="display: none">
					<form action="#" method="GET">
						<input id="symbolSearch" type="text" name="q" placeholder="Search for symbols" autocomplete="off" onchange="performSymbolSearch(24);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" autofocus/>
					</form>
					<ul id="symbolSearchResults" class="symbolList" style="display: none"></ul><script type="application/javascript" src="./symbols.js"></script><script type="application/javascript">var symbolSearchRootDir = "./";
document.getElementById('symbolSearchPane').style.display = 'block';</script>
				</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">aermicioi
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi.html">aedi</a>
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/configurer.html">configurer</a>
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/configurer/annotation.html">annotation</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/annotation/annotation.html">annotation</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/annotation/component_scan.html">component_scan</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/configurer/register.html">register</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/configuration_context_factory.html">configuration_context_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/container.html">container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/context.html">context</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/factory_configurer.html">factory_configurer</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/configurer/register/register.html">register</a>
						</div>
					</li>
				</ul>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/container.html">container</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/aggregate_container.html">aggregate_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/aliasing_container.html">aliasing_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/application_container.html">application_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/container.html">container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/decorating_mixin.html">decorating_mixin</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/deffered_container.html">deffered_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/factory.html">factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/gc_registering_container.html">gc_registering_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/prototype_container.html">prototype_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/proxy_container.html">proxy_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/singleton_container.html">singleton_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/subscribable_container.html">subscribable_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/switchable_container.html">switchable_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/tuple_container.html">tuple_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/type_based_container.html">type_based_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/container/value_container.html">value_container</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/exception.html">exception</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/circular_reference_exception.html">circular_reference_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/di_exception.html">di_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/instance_factory_exception.html">instance_factory_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/invalid_cast_exception.html">invalid_cast_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/in_progress_exception.html">in_progress_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/in_use_exception.html">in_use_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/not_found_exception.html">not_found_exception</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/exception/property_configurer_exception.html">property_configurer_exception</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/factory.html">factory</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/decorating_factory.html">decorating_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/factory.html">factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/generic_factory.html">generic_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/proxy_factory.html">proxy_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/reference.html">reference</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/factory/wrapping_factory.html">wrapping_factory</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/aedi/storage.html">storage</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/aggregate_locator.html">aggregate_locator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/alias_aware.html">alias_aware</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/allocator_aware.html">allocator_aware</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/container.html">container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/decorator.html">decorator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/locator.html">locator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/locator_aware.html">locator_aware</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/object_storage.html">object_storage</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/storage.html">storage</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/storage/wrapper.html">wrapper</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">test
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">configurer
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">annotation
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/configurer/annotation/component_scan.html">component_scan</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">register
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/configurer/register/container.html">container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/configurer/register/context.html">context</a>
						</div>
					</li>
				</ul>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">container
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/aggregate_container.html">aggregate_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/aliasing_container.html">aliasing_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/application_container.html">application_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/deffered_container.html">deffered_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/factory.html">factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/prototype_container.html">prototype_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/proxy_container.html">proxy_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/singleton_container.html">singleton_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/subscribable_container.html">subscribable_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/switchable_container.html">switchable_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/tuple_container.html">tuple_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/type_based_container.html">type_based_container</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/container/value_container.html">value_container</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">exception
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/exception/exception.html">exception</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">factory
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/decorating_factory.html">decorating_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/factory.html">factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/generic_factory.html">generic_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/proxy_factory.html">proxy_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/reference.html">reference</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory/wrapping_factory.html">wrapping_factory</a>
						</div>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">storage
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/storage/aggregate_locator.html">aggregate_locator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/storage/locator.html">locator</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/storage/object_storage.html">object_storage</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/storage/storage.html">storage</a>
						</div>
					</li>
				</ul>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/factory_configurer.html">factory_configurer</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/fixture.html">fixture</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/aedi/test/fixture_second.html">fixture_second</a>
						</div>
					</li>
				</ul>
					</li>
				</ul>
					</li>
					<li class="tree-view collapsed">
						<div class="package ">util
						</div>
				<ul class="tree-view">
					<li class="tree-view collapsed">
						<div class="package ">
							<a href="./aermicioi/util/traits.html">traits</a>
						</div>
				<ul class="tree-view">
					<li>
						<div class="module ">
							<a href="./aermicioi/util/traits/enforce.html">enforce</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/util/traits/partial.html">partial</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./aermicioi/util/traits/traits.html">traits</a>
						</div>
					</li>
				</ul>
					</li>
				</ul>
					</li>
				</ul>
					</li>
					<li>
						<div class="module ">
							<a href="./annotation_configuration.html">annotation_configuration</a>
						</div>
					</li>
					<li>
						<div class="module selected">
							<a href="./configuration_primitives.html">configuration_primitives</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./decorating_containers.html">decorating_containers</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./dependencies.html">dependencies</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./examples.html">examples</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./extending_containers.html">extending_containers</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./extending_factory.html">extending_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./extending_generic_factory.html">extending_generic_factory</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./memory_management.html">memory_management</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./minimal.html">minimal</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./multiple_containers.html">multiple_containers</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./named_dependencies.html">named_dependencies</a>
						</div>
					</li>
					<li>
						<div class="module ">
							<a href="./value_container.html">value_container</a>
						</div>
					</li>
				</ul>
			</div>
			<p id="main-nav-footer">
				Built with
				<a href="https://github.com/MartinNowak/scod">scod</a>
			</p>
		</nav>
		<div id="main-contents">
			<div>
				<h1>Module configuration_primitives</h1><p>Aedi, a dependency injection library.
</p><section><p>Aedi is a dependency injection library. It does provide a set of containers that do
IoC, and an interface to configure application components (structs, objects, etc.)
</p>
</section>

				<section><section><h2>Aim</h2>
<p>The aim of library is to provide a dependency injection solution that is
feature rich, easy to use, easy to learn, and easy to extend up to your needs.
</p>

<p>Besides <code class="lang-d">set</code> , <code class="lang-d">construct</code> , methods used in all above examples, framework offers several
other configuration methods, that allow greater manipulation, or less verbosity. Additional configu-
ration primitives are listed below:
</p>

<p><ol>    <li><code class="lang-d">autowire</code> </li>
    <li><code class="lang-d">factoryMethod</code> </li>
    <li><code class="lang-d">callback</code> </li>
    <li><code class="lang-d">value</code></li>
    <li><code class="lang-d">destructor</code></li>
</ol>
</p>

<p>Lets start with first one from list, which is <code class="lang-d">autowire</code> method.
From it's name we can deduce that it automates wiring of components somehow.
But how does it do this? Let's register a car using old <code class="lang-d">set</code> and <code class="lang-d">construct</code> methods:
</p>
<pre class="code"><code class="lang-d"><span class="pln">register</span><span class="pun">!<a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pun">(</span><span class="str">"sedan.engine.default"</span><span class="pun">)
    <wbr/>.</span><span class="pln">construct</span><span class="pun">(</span><span class="pln">lref</span><span class="pun">!<a href="./configuration_primitives/Size.html"></span><span class="typ">Size</span></a><span class="pun">, </span><span class="pln">lref</span><span class="pun">!<a href="./configuration_primitives/Engine.html"></span><span class="typ">Engine</span></a><span class="pun">)
    <wbr/>.</span><span class="pln">set</span><span class="pun">!</span><span class="str">"color"</span><span class="pun">(</span><span class="pln">lref</span><span class="pun">!<a href="./configuration_primitives/Color.html"></span><span class="typ">Color</span></a><span class="pun">);</span></code></pre>
</section>
<section><h2>Autowire</h2>
<p>Even with more structured instantiation code present using framework, sometimes, even this
code is too verbose. Some components for example have a set of dependencies defined by some
interface, and having for each dependency to reference it using <code class="lang-d">lref!Type</code> is quite cumbersome,
and painfull.
</p>

<p>And here comes into play <code class="lang-d">autowire</code> configuration method, which handles referencing of
component by type on behalf of developer that creates the configuration, like in example below:
</p>

<pre class="code"><code class="lang-d"><span class="pln">register</span><span class="pun">!<a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pun">(</span><span class="str">"sedan.engine.default"</span><span class="pun">) </span><span class="com">// Register a car with a default engine.
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">() </span><span class="com">// Construct Car using default implementation of a size, and engine.
    <wbr/></span><span class="pun">.</span><span class="pln">autowire</span><span class="pun">!</span><span class="str">"color"</span><span class="pun">(); </span><span class="com">// Inject default implementation of a Color.</span></code></pre>

<p>In current implementation of autowired due to limitations of current compiler’s compile time
introspection, <code class="lang-d">autowire</code> cannot work well with overloaded methods or constructors. In such cases,
<code class="lang-d">autowire</code> cannot know which version of method/constructor to overload, and will default to the
first one from the list of overloads.
</p>
</section>
<section><h2>FactoryMethod</h2>
<p>Frequently in applications that use third party code, components from that third party code,
are instantiated using factories or other entities from that third party code, and the client code of
those libraries simply are not allowed to manually create those types. To aleviate this problem, when
such a component is registered in a container, framework allows such components to be instantiated
by using third party code responsible for this task.
</p>

<p>Supposedly, the car simulation application introduced previously, is upgraded with a car man-
ufacturing simulation, and new cars that are needed to be registered as components into container
are required to be instantiated using car manufacturing component. <code class="lang-d">factoryMethod</code> method
instructs framework to use a third party component to instantiate registered component, using static
method of a factory, or by using an instance of a factory. In example usage of <code class="lang-d">factoryMethod</code>
is shown:
</p>

<pre class="code"><code class="lang-d"><span class="pln">register</span><span class="pun">!<a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pun">(</span><span class="str">"car_manufacturer.product.sedan"</span><span class="pun">) </span><span class="com">// Register a car with gasoline engine
    <wbr/></span><span class="pun">.</span><span class="pln">factoryMethod</span><span class="pun">!(<a href="./configuration_primitives/CarManufacturer.html"></span><span class="typ">CarManufacturer</span></a><span class="pun">, </span><span class="str">"manufacture"</span><span class="pun">)(</span><span class="pln">lref</span><span class="pun">!<a href="./configuration_primitives/CarManufacturer.html"></span><span class="typ">CarManufacturer</span></a><span class="pun">, </span><span class="str">"size.sedan"<wbr/></span><span class="pun">.</span><span class="pln">lref</span><span class="pun">);</span></code></pre>
</section>
<section><h2>Callback</h2>
<p>While just by configuring a component with simple values or references, in some cases during
construction of a component some custom logic must be run, that is or not related to instantiation
process. <code class="lang-d">callback</code> configuration method can be used to pass a function or a delegate that
constructs or configures the component, according to some custom logic, not expressable by already
available configuration primitives. Example below shows how a callback can be used as a constructor or
as a configuration primitive.
</p>

<pre class="code"><code class="lang-d"><span class="pln">register</span><span class="pun">!<a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pun">(</span><span class="str">"sedan.engine.electric"</span><span class="pun">) </span><span class="com">// Register a car with electric engine
    <wbr/></span><span class="pun">.</span><span class="pln">callback</span><span class="pun">(
        </span><span class="kwd">delegate </span><span class="pun">(</span><span class="typ">Locator</span><span class="pun">!() </span><span class="pln">loc</span><span class="pun">) { </span><span class="com">// Let's construct our car using some custom logic that isn't possible to express with a simple construct method call.
            <a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pln"> car </span><span class="pun">= </span><span class="kwd">new <a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pun">(</span><span class="pln">loc<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!<a href="./configuration_primitives/Size.html"></span><span class="typ">Size</span></a><span class="pun">, </span><span class="kwd">new <a href="./configuration_primitives/ElectricEngine.html"></span><span class="typ">ElectricEngine</span></a><span class="pun">());

            </span><span class="kwd">return </span><span class="pln">car</span><span class="pun">;
        }
    )<wbr/>.</span><span class="pln">callback</span><span class="pun">( </span><span class="com">// Let's configure newly built car with a custom color.
        </span><span class="kwd">delegate </span><span class="pun">(</span><span class="typ">Locator</span><span class="pun">!() </span><span class="pln">loc</span><span class="pun">, <a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pln"> car</span><span class="pun">) {
            </span><span class="pln">car<wbr/></span><span class="pun">.</span><span class="pln">color </span><span class="pun">= </span><span class="pln">loc<wbr/></span><span class="pun">.</span><span class="pln">locate</span><span class="pun">!<a href="./configuration_primitives/Color.html"></span><span class="typ">Color</span></a><span class="pun">;
        }
    );</span></code></pre>
<p>Though it's quite a simple primitive, it is as well powerful one. It is possible to define your own
custom configuration primitives just by using under the hood the <code class="lang-d">callback</code> primitive.
</p>
</section>
<section><h2>Value</h2>
<p>The value primitive instructs container to use as basis an already constructed component. The component itself
can be further configured using primitives specified above. The only specific case that should be taken into accout
is the fact that using same value that is a reference type (a pointer, or class) in multiple components, will result into
having same component with multiple identities in container. The container itself won't be aware of the relationship, as in case
with aliasing. It is recommended that <code class="lang-d">value</code> to be used only once per reference value.
</p>

<pre class="code"><code class="lang-d"><span class="pln">register</span><span class="pun">!</span><span class="typ">GasolineEngine
    <wbr/></span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="kwd">new <a href="./configuration_primitives/GasolineEngine.html"></span><span class="typ">GasolineEngine</span></a><span class="pun">(</span><span class="lit">15</span><span class="pun">)); </span><span class="com">// Register a gasoline engine. Note: this engine is not the same gasoline engine from default implementation.</span></code></pre>
</section>
<section><h2>Destructor</h2>
<p>When container is shut down, the default behavior is to destroy all constructed components. The default destruction logic is to run destructor and
deallocate the component. Sometimes, the default behavior is not desired, or additional logic should be run. In such cases <code class="lang-d">destructor</code>
primitive can be used to either pass a delegate, or factory method to be used to destroy the component.
</p>

<pre class="code"><code class="lang-d"><span class="pln">register</span><span class="pun">!<a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pun">(</span><span class="str">"car_manufacturer.product.sedan"</span><span class="pun">) </span><span class="com">// Register a car with gasoline engine
    <wbr/></span><span class="pun">.</span><span class="pln">factoryMethod</span><span class="pun">!(<a href="./configuration_primitives/CarManufacturer.html"></span><span class="typ">CarManufacturer</span></a><span class="pun">, </span><span class="str">"manufacture"</span><span class="pun">)(</span><span class="pln">lref</span><span class="pun">!<a href="./configuration_primitives/CarManufacturer.html"></span><span class="typ">CarManufacturer</span></a><span class="pun">, </span><span class="str">"size.sedan"<wbr/></span><span class="pun">.</span><span class="pln">lref</span><span class="pun">)
    <wbr/>.</span><span class="pln">destructor</span><span class="pun">((</span><span class="typ">IAllocator </span><span class="pln">alloc</span><span class="pun">, </span><span class="kwd">ref <a href="./configuration_primitives/Car.html"></span><span class="typ">Car</span></a><span class="pln"> car</span><span class="pun">) {
        </span><span class="pln">write</span><span class="pun">(</span><span class="str">"Crushing the car. "</span><span class="pun">);
        </span><span class="pln">alloc<wbr/></span><span class="pun">.</span><span class="pln">dispose</span><span class="pun">(</span><span class="pln">car</span><span class="pun">);
        </span><span class="pln">writeln</span><span class="pun">(</span><span class="str">"Done"</span><span class="pun">);
    });</span></code></pre>

<p>Those additional primitives are quite handy to use, with libraries that are usign factories,
dependencies by interface, or when some custom behavior has to be run during construction of a
component. Output below is the result of using those primitives, to run.
</p>

<pre class="code"><code class="lang-d"><span class="typ">Uuh</span><span class="pun">, </span><span class="pln">what a nice car</span><span class="pun">, </span><span class="typ">Gasoline </span><span class="pln">car </span><span class="kwd">with </span><span class="pln">following specs</span><span class="pun">:
<a href="./configuration_primitives/Size.html"></span><span class="typ">Size</span></a><span class="pun">:	<a href="./configuration_primitives/Size.html"></span><span class="typ">Size</span></a><span class="pun">(</span><span class="lit">200</span><span class="pun">, </span><span class="lit">150</span><span class="pun">, </span><span class="lit">300</span><span class="pun">)
<a href="./configuration_primitives/Color.html"></span><span class="typ">Color</span></a><span class="pun">:	<a href="./configuration_primitives/Color.html"></span><span class="typ">Color</span></a><span class="pun">(</span><span class="lit">0</span><span class="pun">, </span><span class="lit">0</span><span class="pun">, </span><span class="lit">0</span><span class="pun">)
<a href="./configuration_primitives/Engine.html"></span><span class="typ">Engine</span></a><span class="pun">:	</span><span class="pln">app<wbr/></span><span class="pun">.</span><span class="typ">GasolineEngine
Let</span><span class="str">`s turn it on
pururukVrooomVrrr
What a nice sound! We should make a test drive!
vrooom
Umm the test drive was awesome, let`</span><span class="pln">s get home and turn it off<wbr/></span><span class="pun">.
</span><span class="pln">vrooom
vrrrPrrft

</span><span class="typ">Uuh</span><span class="pun">, </span><span class="pln">what a nice car</span><span class="pun">, </span><span class="typ">Manufactured </span><span class="pln">car </span><span class="kwd">with </span><span class="pln">following specs</span><span class="pun">:
<a href="./configuration_primitives/Size.html"></span><span class="typ">Size</span></a><span class="pun">:	<a href="./configuration_primitives/Size.html"></span><span class="typ">Size</span></a><span class="pun">(</span><span class="lit">200</span><span class="pun">, </span><span class="lit">150</span><span class="pun">, </span><span class="lit">500</span><span class="pun">)
<a href="./configuration_primitives/Color.html"></span><span class="typ">Color</span></a><span class="pun">:	<a href="./configuration_primitives/Color.html"></span><span class="typ">Color</span></a><span class="pun">(</span><span class="lit">0</span><span class="pun">, </span><span class="lit">0</span><span class="pun">, </span><span class="lit">0</span><span class="pun">)
<a href="./configuration_primitives/Engine.html"></span><span class="typ">Engine</span></a><span class="pun">:	</span><span class="pln">app<wbr/></span><span class="pun">.</span><span class="typ">DieselEngine
Let</span><span class="str">`s turn it on
pururukVruumVrrr
What a nice sound! We should make a test drive!
vruum
Umm the test drive was awesome, let`</span><span class="pln">s get home and turn it off<wbr/></span><span class="pun">.
</span><span class="pln">vruum
vrrrPft

</span><span class="typ">Uuh</span><span class="pun">, </span><span class="pln">what a nice car</span><span class="pun">, </span><span class="typ">Electric </span><span class="pln">car </span><span class="kwd">with </span><span class="pln">following specs</span><span class="pun">:
<a href="./configuration_primitives/Size.html"></span><span class="typ">Size</span></a><span class="pun">:	<a href="./configuration_primitives/Size.html"></span><span class="typ">Size</span></a><span class="pun">(</span><span class="lit">200</span><span class="pun">, </span><span class="lit">150</span><span class="pun">, </span><span class="lit">300</span><span class="pun">)
<a href="./configuration_primitives/Color.html"></span><span class="typ">Color</span></a><span class="pun">:	<a href="./configuration_primitives/Color.html"></span><span class="typ">Color</span></a><span class="pun">(</span><span class="lit">0</span><span class="pun">, </span><span class="lit">0</span><span class="pun">, </span><span class="lit">0</span><span class="pun">)
<a href="./configuration_primitives/Engine.html"></span><span class="typ">Engine</span></a><span class="pun">:	</span><span class="pln">app<wbr/></span><span class="pun">.</span><span class="typ">ElectricEngine
Let</span><span class="str">`s turn it on
pzt
What a nice sound! We should make a test drive!
vvvvvvvvv
Umm the test drive was awesome, let`</span><span class="pln">s get home and turn it off<wbr/></span><span class="pun">.
</span><span class="pln">vvvvvvvvv
tzp</span></code></pre>

<p>If you are puzzled from where is this output, take a look at the source code of
this example. Modify it, play with it to understand these configuration primitives.
</p>
</section>
</section>
				<section>
					<h2>Functions</h2>
					<table>
						<col class="caption"/>
						<tr>
							<th>Name</th><th>Description</th>
						</tr>
						<tr>
							<td>
								<code>
									<a id="drive" class="public" href="./configuration_primitives/drive.html">drive</a><span class="decoration">(car, name)</span>
								</code>
							</td>
							<td></td>
						</tr>
						<tr>
							<td>
								<code>
									<a id="main" class="public" href="./configuration_primitives/main.html">main</a><span class="decoration">()</span>
								</code>
							</td>
							<td></td>
						</tr>
					</table>
				</section>
				<section>
					<h2>Interfaces</h2>
					<table>
						<col class="caption"/>
						<tr>
							<th>Name</th><th>Description</th>
						</tr>
						<tr>
							<td>
								<code>
									<a id="Engine" class="public" href="./configuration_primitives/Engine.html">Engine</a>
								</code>
							</td>
							<td>Interface for engines.
</td>
						</tr>
					</table>
				</section>
				<section>
					<h2>Classes</h2>
					<table>
						<col class="caption"/>
						<tr>
							<th>Name</th><th>Description</th>
						</tr>
						<tr>
							<td>
								<code>
									<a id="Car" class="public" href="./configuration_primitives/Car.html">Car</a>
								</code>
							</td>
							<td>A class representing a car.
</td>
						</tr>
						<tr>
							<td>
								<code>
									<a id="CarManufacturer" class="public" href="./configuration_primitives/CarManufacturer.html">CarManufacturer</a>
								</code>
							</td>
							<td>A manufacturer of cars.
</td>
						</tr>
						<tr>
							<td>
								<code>
									<a id="DieselEngine" class="public" href="./configuration_primitives/DieselEngine.html">DieselEngine</a>
								</code>
							</td>
							<td>A concrete implementation of Engine that uses diesel for propelling.
</td>
						</tr>
						<tr>
							<td>
								<code>
									<a id="ElectricEngine" class="public" href="./configuration_primitives/ElectricEngine.html">ElectricEngine</a>
								</code>
							</td>
							<td>A concrete implementation of Engine that uses electricity for propelling.
</td>
						</tr>
						<tr>
							<td>
								<code>
									<a id="GasolineEngine" class="public" href="./configuration_primitives/GasolineEngine.html">GasolineEngine</a>
								</code>
							</td>
							<td>A concrete implementation of Engine that uses gasoline for propelling.
</td>
						</tr>
					</table>
				</section>
				<section>
					<h2>Structs</h2>
					<table>
						<col class="caption"/>
						<tr>
							<th>Name</th><th>Description</th>
						</tr>
						<tr>
							<td>
								<code>
									<a id="Color" class="public" href="./configuration_primitives/Color.html">Color</a>
								</code>
							</td>
							<td>A struct that should be managed by container.
</td>
						</tr>
						<tr>
							<td>
								<code>
									<a id="Size" class="public" href="./configuration_primitives/Size.html">Size</a>
								</code>
							</td>
							<td>Size of a car.
</td>
						</tr>
					</table>
				</section>
			</div>
			<footer>
				<div id="license-info">
					<p>aermicioi
</p>

					
					<p>Boost Software License - Version 1.0 - August 17th, 2003
</p>

<p>	Permission is hereby granted, free of charge, to any person or organization
	obtaining a copy of the software and accompanying documentation covered by
	this license (the "Software") to use, reproduce, display, distribute,
	execute, and transmit the Software, and to prepare derivative works of the
	Software, and to permit third-parties to whom the Software is furnished to
	do so, all subject to the following:
</p>

<p>	The copyright notices in the Software and this entire statement, including
	the above license grant, this restriction and the following disclaimer,
	must be included in all copies of the Software, in whole or in part, and
	all derivative works of the Software, unless such copies or derivative
	works are solely in the form of machine-executable object code generated by
	a source language processor.
</p>

<p>	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
	SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
	FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
	ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.
</p>

				</div>
			</footer>
		</div>
	</body>
</html>